{"ast":null,"code":"import _slicedToArray from\"C:/Users/YuyunChen/IdeaProjects/doordash-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Card,List,message,Select,Tooltip}from\"antd\";import{useEffect,useState}from\"react\";import{addItemToCart,getMenus,getRestaurants}from\"../utils\";import{PlusOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Option=Select.Option;var AddToCartButton=function AddToCartButton(_ref){var itemId=_ref.itemId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var AddToCart=function AddToCart(){setLoading(true);addItemToCart(itemId).then(function(){return message.success(\"Successfully add item\");}).catch(function(err){return message.error(err.message);}).finally(function(){setLoading(false);});};return/*#__PURE__*/_jsx(Tooltip,{title:\"Add to shopping cart\",children:/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:AddToCart})});};var FoodList=function FoodList(){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),foodData=_useState4[0],setFoodData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),curRest=_useState6[0],setCurRest=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),restaurants=_useState8[0],setRestaurants=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loadingRest=_useState12[0],setLoadingRest=_useState12[1];useEffect(function(){setLoadingRest(true);getRestaurants().then(function(data){setRestaurants(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoadingRest(false);});},[]);useEffect(function(){if(curRest){setLoading(true);getMenus(curRest).then(function(data){setFoodData(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoading(false);});}},[curRest]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Select,{value:curRest,onSelect:function onSelect(value){return setCurRest(value);},placeholder:\"Select a restaurant\",loading:loadingRest,style:{width:300},onChange:function onChange(){},children:restaurants.map(function(item){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.name},item.id);})}),curRest&&/*#__PURE__*/_jsx(List,{style:{marginTop:20},loading:loading,grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:3,xxl:3},dataSource:foodData,renderItem:function renderItem(item){return/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Card,{title:item.name,extra:/*#__PURE__*/_jsx(AddToCartButton,{itemId:item.id}),children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,style:{height:340,width:\"100%\",display:\"block\"}}),\"Price: \".concat(item.price)]})});}})]});};export default FoodList;","map":{"version":3,"sources":["C:/Users/YuyunChen/IdeaProjects/doordash-app/src/components/FoodList.js"],"names":["Button","Card","List","message","Select","Tooltip","useEffect","useState","addItemToCart","getMenus","getRestaurants","PlusOutlined","Option","AddToCartButton","itemId","loading","setLoading","AddToCart","then","success","catch","err","error","finally","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","data","value","width","map","item","id","name","marginTop","gutter","xs","sm","md","lg","xl","xxl","imageUrl","height","display","price"],"mappings":"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","sourcesContent":["import { Button, Card, List, message, Select, Tooltip } from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddToCartButton = ({ itemId }) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const AddToCart = () => {\r\n        setLoading(true);\r\n        addItemToCart(itemId)\r\n            .then(() => message.success(`Successfully add item`))\r\n            .catch((err) => message.error(err.message))\r\n            .finally(() => {\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <Tooltip title=\"Add to shopping cart\">\r\n            <Button\r\n                loading={loading}\r\n                type=\"primary\"\r\n                icon={<PlusOutlined />}\r\n                onClick={AddToCart}\r\n            />\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nconst FoodList = () => {\r\n    const [foodData, setFoodData] = useState([]);\r\n    const [curRest, setCurRest] = useState();\r\n    const [restaurants, setRestaurants] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [loadingRest, setLoadingRest] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoadingRest(true);\r\n        getRestaurants()\r\n            .then((data) => {\r\n                setRestaurants(data);\r\n            })\r\n            .catch((err) => {\r\n                message.error(err.message);\r\n            })\r\n            .finally(() => {\r\n                setLoadingRest(false);\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (curRest) {\r\n            setLoading(true);\r\n            getMenus(curRest)\r\n                .then((data) => {\r\n                    setFoodData(data);\r\n                })\r\n                .catch((err) => {\r\n                    message.error(err.message);\r\n                })\r\n                .finally(() => {\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }, [curRest]);\r\n\r\n    return (\r\n        <>\r\n            <Select\r\n                value={curRest}\r\n                onSelect={(value) => setCurRest(value)}\r\n                placeholder=\"Select a restaurant\"\r\n                loading={loadingRest}\r\n                style={{ width: 300 }}\r\n                onChange={() => {}}\r\n            >\r\n                {restaurants.map((item) => {\r\n                    return <Option key = {item.id} value={item.id}>{item.name}</Option>;\r\n                })}\r\n            </Select>\r\n            {curRest && (\r\n                <List\r\n                    style={{ marginTop: 20 }}\r\n                    loading={loading}\r\n                    grid={{\r\n                        gutter: 16,\r\n                        xs: 1,\r\n                        sm: 2,\r\n                        md: 4,\r\n                        lg: 4,\r\n                        xl: 3,\r\n                        xxl: 3,\r\n                    }}\r\n                    dataSource={foodData}\r\n                    renderItem={(item) => (\r\n                        <List.Item>\r\n                            <Card\r\n                                title={item.name}\r\n                                extra={<AddToCartButton itemId={item.id} />}\r\n                            >\r\n                                <img\r\n                                    src={item.imageUrl}\r\n                                    alt={item.name}\r\n                                    style={{ height: 340, width: \"100%\", display: \"block\" }}\r\n                                />\r\n                                {`Price: ${item.price}`}\r\n                            </Card>\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FoodList;"]},"metadata":{},"sourceType":"module"}